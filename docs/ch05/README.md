# 模拟信号的调理与转换

由于测量过程中不可避免地遭受各种干扰因素的影响, 为了抑制干扰噪声、提高信噪比和方便后续的传输和处理,往往需要对这些电信号作调理和转换

## 电桥

电桥是将电阻、电容和电感等参数的变化转换为电压或电流输出的一种测量电路

### 直流电轿

![][2]

- 假设

  直流电桥的输出端后接输人阻抗较大的仪表或放大电路时,可视为开路

- 数学关系

  $$
  \begin{aligned}
  e _ { o } &= U _ { ab } - U _ { a d } = ( \frac { R _ { 1 } } { R _ { 1 } + R _ { 2 } } e _ { i } - \frac { R _ { 4 } } { R _ { 3 } + R _ { 4 } } e _ { i } ) \\
  &= \frac { R _ { 1 } R _ { 3 } - R _ { 2 } R_4}{(R_1+R_2)(R_3+R_4)} e _ { i }
  \end{aligned}
  $$

- 直流电桥平衡公式

  $$R _ { 1 } R _ { 3 } = R _ { 2 } R _ { 4 }$$

- 工作原理是

  桥臂的阻值变化 => 输出电压(或电流)的变化

  适当选取各桥臂的阻值,可使输出电压(或电流)仅与被测量引起的阻值变化有关,达到测量的目的

- 优点

  采用稳定性高的直流电源作激励电源;电桥的输出 $e_o$是直流量,可用直流仪表测量,精度高

  电桥与后接仪表间的连接导线不会形成分布参数,因此,对导线连接的方式要求较低

- 缺点

  易引入工频干扰,由于输出为直流量,故需对其作直流放大,而直流放大器一般都比较复杂,容易受到零点漂移和接地电位的影响

#### 工作方式

##### 零值法

主要用于静态物理量的测量

- 优点

  不需要知道输入电压,而且输入电压的变化不影响测量的准确性;检流计只检测是否有电流流过,无须测量电流的大小

- 局限性

  零值法测量值中会引入检流计的分辨误差

##### 偏值法

不平衡条件下,桥臂阻值的变化通过接入节点 b, d 两端的电压表测得电压降(或者电流表的电流)作为指示

- 电桥的和差特性

  $$
  \begin{aligned}
  &考虑变化后的关系:
  e _ { o } = \frac { ( R _ { 1 } + \Delta R _ { 1 } ) ( R _ { 3 } + \Delta R _ { 3 } ) - ( R _ { 2 } + \Delta R _ { 2 } ) ( R _ { 4 } +\Delta R _ { 2 } )  } { ( R _ { 1 } + \Delta R _ { 1 } + R _ { 2 } + \Delta R _ { 2 } ) ( R _ { 3 } + \Delta R _ { 3 } + R _ { 4 } + \Delta R _ { 4 } ) } e_i\\
  &假设: R_1 = R_2 = R_3 = R_4 = R_0, 且忽略 \Delta R_i 的高次项 \\
  &则: e_o = \frac {1} {4} ( \frac {\Delta R_1} {R_0} - \frac {\Delta R_2} {R_0} + \frac {\Delta R_3} {R_0} - \frac {\Delta R_4} {R_0} ) e_i
  \end{aligned}
  $$

  - 特性

    - 相邻桥臂

      阻值的变化所引起的输出电压为该两桥臂各阻值变化产生的输出电压之差

    - 相对桥臂

      阻值的变化所产生的输出电压为该两桥臂各阻值变化产生的输出电压之和

  - 电桥的连接形式

    三种形式:半桥单臂、半桥双臂和全桥连接

    假设$R_1 = R_2 = R_3 = R_4 = R_0$

    - 半桥单臂连接形式

      工作桥臂:1 个

      $$e _ { o } = \frac { \Delta R } { 4 R _ { 0 } } e _ { i }$$

    - 半桥双臂连接形式

      工作桥臂:2 个

      $$e _ { o } = \frac { \Delta R } { 2 R _ { 0 } } e _ { i }$$

      - 邻接

        1 和 2, 或 1 和 4

        $\Delta R1 = \Delta R2 = \Delta R$, 变化方向相反(带符号:$\Delta R1 = - \Delta R2$)

      - 对接

        1 和 3

        $\Delta R1 = \Delta R3 = \Delta R$, 变化方向相反变化方向相同

    - 全桥连接形式

      工作桥臂:4 个

      假设:$\Delta R_1 = -\Delta R_2 = \Delta R_3 = -\Delta R_4 = \Delta R$

      $$e _ { o } = \frac { \Delta R } { R _ { 0 } } e _ { i }$$

- 电桥的灵敏度定义

  $$K = \frac { e _ { o } } { \Delta R } $$

  半桥双臂连接形式的灵敏度是半桥单臂形式的两倍; 而全桥连接形式的灵敏度是半桥单臂的四倍

- 应用实例

  测量一悬臂梁的应变,在梁的上、下表面各贴一个初始阻值相等的同种应变片,并分别接人电桥的相邻两桥臂

  ![][9]

  - 相比单臂优点

    - 灵敏度提高了一倍

    - 温度补偿

      在同一个构件上，温度的变化导致的阻值变化量相同($\Delta R^{\prime}$). $\Delta R^{\prime}$引起的输出电压的变化对于相邻桥臂是相减关系, 能够一定程度减弱温度的干扰

- 优点

  偏值法最大的优点是频率特性好,可以测量动态的被测量

- 缺点

  偏值法需要已知稳定输人电压和一个能够精确指示输出电压的电压表

### 交流电轿

- 平衡条件

  $$z _ { 1 } z _ { 3 } = z _ { 2 } z _ { 4 }$$

  复数形式, 由模和阻抗角约束

直流电桥相比,其平衡调节要复杂得多。影响交流电桥测量精度及误差的因素比直流电桥也要多得多,如电桥各元件之间的互感辆合、泄漏电阻、元件间及元件对地之间的分布电容、邻近交流电路对电桥的感应影响等

## 模拟滤波器

- 本质

  - 常用的变换装置

  - 选频装置

- 应用

  - 带通滤波器可用做频谱分析仪中的选频装置
  - 低通滤波器可用做模拟信号数字化分析中的抗混叠滤波器
  - 高通滤波器可用做声发射检测仪中别除低频干扰噪声的装置
  - 带阻滤波器可用做电润流测振仪中的陷波器

### 模似滤波器分类

- 低通滤波器
- 高通滤波器
- 带通滤波器
- 带阻滤波器

### 理想模拟滤波器

- 理想模拟滤波器的频率特性

  理想化的模型

  $$H ( \omega ) = A _ { 0 } e ^ { - j \omega t _ { 0 } }$$

  $$| H ( \omega ) | =  \begin{cases}  {A _ { 0 } , \quad - \omega _ { c } \lt \omega \lt \omega_c } \\ { 0 ,  \quad 其他} \end{cases}$$

  $$\varphi ( \omega ) = - \omega t _ { 0 }$$

  > 我不理解, 为什么要负数部分? 为什么不可以为 0

- 理想低通滤波器的脉冲响应

$$
\begin{aligned}
h ( t ) &= F ^ { - 1 } [ H ( \omega ) ] = \frac { 1 } { 2 \pi } \int _ { - \omega_c } ^ { \omega_c } A _ { 0 } e ^ { - j \omega t_0 } e ^ { j \omega t}d \omega \\
&= \frac { A _ { 0 } \omega_c } { \pi } sinc [ \omega_c ( t - t _ { 0 } ) ]
\end{aligned}
$$

脉冲响应函数$h(t)$ 的波形是一个峰值位于 $t_0$ 时刻的 sinc(x) 型函数. 对于负的 t 值,$h(t)$的值不等于零,这表明在输入$\delta(t)$之前,滤波器就有与之相对应的输出,显然,任何滤波器都不可能有这种"先知",所以,理想滤波器是不可能实现的

> 发现即便没有负的$\omega$, 傅里叶逆变换后, 还是有负的时间 t, 先前的对称可能是为了计算方便

![][19]

### 实际滤波器

用特性参数描述实际滤波器

![][20]

- 截止频率 $\omega_c$

- 纹波幅度 d

  纹波幅度越小越好,一般应远小于 3 dB,即 $d \ll \frac {A_0} {\sqrt{2}}$

- 频率分辨力

  - 通带带宽 B (或称为-3dB 带宽)

    $$B=\omega_{c2} - \omega_{c1}$$

    带宽的大小决定着滤波器分离信号中相邻频率成分的能力,即频率分辨力

  - 品质因素 Q

    描述滤波器的频率分辨力

    $$
    Q = \frac { \omega _ { 0 } } { B }\\
    其中, \omega _ { 0 } = \sqrt { \omega _ { c 1 } \omega _ { c 2 } }: 中心频率
    $$

    Q 值越大, 表明滤波器频率分辨力越高

- 选择性

  过渡带的幅频曲线倾斜程度表明了滤波器对通带外的频率成分的衰减能力,即选择性

  - 倍频程选择性 $W$

    $$W = 20 \log \frac { A ( 2 \omega _ { c 2 } ) } { A ( \omega _ { c 2 } ) } 或 20 \log \frac { A ( \omega _ { c 1 } / 2 ) } { A ( \omega _ { c 1 } ) }$$

    倍频程选择性 W 越大,选择性就越好

  - 滤波器因素 $\lambda^{\prime}$

    $$\lambda ^ { \prime } = \frac { B_{- 60 d B} } { B _ { - 3 d B}  }$$

    滤波器因素 $\lambda^{\prime}$越小,选择性就越好

### 模拟滤波器的设计

- 思路

  - 根据给定的频率特性要求确定滤波器的传递函数

  - 实现该传递函数的实际电网络

- 关键

  要找到这种逼近的函数

  根据所用的逼近函数的不同,就有相应的滤波器名称

- 常用的滤波器形式

  巴特沃思滤波器、切比雪夫滤波器、椭圆滤波器(都是针对低通滤波器)

  模拟高通、带通和带阻滤波器的传递函数可以通过频率变换分别由低通滤波器的传递函数求得

  ![][27]

#### 巴特沃思滤波器

该函数只从幅频特性提出要求,而不考虑相频特性

- 低通滤波器幅频特性

  $$A ( \omega ) = \frac { 1 } { \sqrt { 1 + ( \frac {\omega} {\omega _ { c }} ) ^ { 2 n } } }$$

- n 阶归一化传递函数

  $$
  \begin{cases}
  H ( s ^ { \prime } ) = \frac { 1 } { \prod _ { k = 1 } ^ { n / 2 } ( s ^ { \prime 2 } - 2 ( \cos ( \frac { 2 k - 1 } { 2 n } \pi + \frac { \pi } { 2 } ) ) s ^ { \prime } + 1 ) } &, \quad n 为偶数\\
  H ( s ^ { \prime } ) = \frac { 1 } { ( s ^ { \prime } + 1 ) \prod _ { k = 1 } ^ { \frac {(n - 1)} {2}  } ( s ^ { \prime 2 } - 2 ( \cos ( \frac { 2 k - 1 } { 2 n } \pi + \frac { \pi } { 2 } ) ) s ^ { \prime } + 1 ) }&, \quad n 为奇数
  \end{cases}
  $$

  其中, $s ^ { \prime } = \frac {s} {\omega_c}$

#### 模拟滤波器的实现

- Rc 低通滤波器

  ![][28]

  $$H ( s ) = \frac { 1 } { \tau s + 1 }$$

  - 截止频率 $\omega_c = \frac { 1 } { \tau }$

  > 短路高频, 通过低频

- RG 高通滤波器

  ![][31]

  $$H ( s ) = \frac { \tau s } { \tau s + 1 }$$

  - 截止频率 $\omega_c = \frac { 1 } { \tau }$

- Rc 带通滤波器

  ![][32]

  $$H ( s ) = H _ { 1 } ( s ) H _ { 2 } ( s ) = \frac { \tau _ { 1 } s } { \tau _ { 1 } s + 1 } \cdot \frac { 1 } { \tau _ { 2 } s + 1 }$$

  - 截止频率

    下截至频率:$\omega_{c1} = \frac { 1 } { \tau _ { 1 } }$

    上截至频率:$\omega_{c2} = \frac { 1 } { \tau _ { 2 } }$

- Rc 带阻滤波器

  ![][34]

## 调制与解调

调制与解调是一对信号变换过程

- 调制

  利用某种低频信号的幅值来控制或改变某一高频振荡信号的某个参数(幅值、频率或相位)的过程

  - 调制波

    将控制高频信号的低频信号

  - 载波

    载送低频信号的高频振荡信号称为

- 分类

  根据被控参数(如幅值、频率、相位)的不同

  调制可分为调幅、调频和调相,得到的已调制波分别称为调幅波、调频波和调相波

- 本质

  - 时域

    调制过程是使载波的某一参量随调制波幅值的变化而变化的过程

  - 频域

    调制过程是一个频移的过程

- 解调

  从已调制波中恢复原来低频调制波的过程

- 应用

  如果直接采取直流放大,常会带来零点漂移和级间稱合等问题,造成信号的失真. 若将调制波变成易于在信道中传输的高频信号, 采用交流放大, 就可以绕过这些问题

一般来说调制波可能具有任何的形式

常用的以简谐信号作为载波的调制与解调

### 幅值调制与解调

- 幅值调制的基本原理

  $$
  \begin{aligned}
  & x _ { m } ( t ) = x ( t ) z ( t )\\
  & z ( t ) = \cos \omega_z t :高频载波\\
  & x( t ) :低频调制波\\
  & x _ { m } ( t ) :调幅波
  \end{aligned}
  $$

  ![][35]

  - 对比时域与频域

    $$
    \begin{aligned}
    x _ { m } ( t ) = x ( t ) z ( t ) &\Leftrightarrow X _ { m } ( \omega ) = \frac { 1 } { 2 \pi } X ( \omega ) \ast Z ( \omega )\\
    z ( t ) = \cos \omega _ { z } t &\Leftrightarrow \pi [ \delta ( \omega - \omega_ { z } ) + \delta ( \omega + \omega _ { z } ) ]
    \end{aligned}
    $$

    $$
    \begin{aligned}
    X _ { m } ( \omega )
    &= \frac { 1 } { 2 } X ( \omega ) * \delta ( \omega + \omega_ { z } ) + \frac { 1 } { 2 } X ( \omega ) * \delta ( \omega - \omega _ { z } ) \\
    &= \frac { 1 } { 2 } X ( \omega + \omega_z ) + \frac { 1 } { 2 } X ( \omega - \omega _ { z } )
    \end{aligned}
    $$

  为避免调幅波 $x_m(t)$的频谱混叠失真，要求载波频率必须大于调制波最高频率$\omega_{z} > \omega_{max}$

- 幅值调制的解调

  - 同步解调

    在时域上是将调幅波与原载波信号再次相乘

    $$F [ x _ { m } ( t ) z ( t ) ] = \frac { 1 } { 2 } X ( \omega ) + \frac { 1 } { 4 } X ( \omega + 2 \omega _ { z } ) + \frac { 1 } { 4 } X ( \omega  - 2 \omega _ { z } )$$

    然后使用低通滤波器截取低频信号

    由于解调时用到载波信号,所以,同步解调需要同步传送载波信号

  - 包络检波

    又称为整流检波法

    - 输入要求

      原调制波必须$x(t) > 0$

      通过偏置调幅的方法获得单极性的调制波

    ![][38]

    调幅波进行整流、滤波, 最后剔除直流分量即可

    - 实例

      ![](assets/2022-05-20-12-53-43.png)

      当 $x_m(t) > 0$ 时,二极管 D 导通,对电容器 C 充电

      当 $x_m(t) < 0$ 时,二极管 D 截止,电容器 C 反过来对电阻 R 放电

    - 优点

      不需要同步传送载波信号

      检波电路非常简单

    - 缺点

      偏置调幅要注意避免过调失真(偏置调幅的直流偏置不够大,使得调制前的信号具有负的电压,导致调幅波 $x_m(t)$ 的相位将发生 $180^{\circ}$ 倒相的现象)

  - 相敏检波

    ![][41]

    相敏检波电路可用来鉴别调制波的极性,利用交变信号在过零位时正、负极性发生突变,使调幅波相位与载波信号比较也相应地产生 $180^{\circ}$ 相位跳变,从而既能反映原调制波的幅值, 又能反映其相位

    - 实例:二极管相敏检波电路

      ![][39]

- 幅值调制与解调的应用

  - 动态电阻应变仪

    ![][40]

    > 重点在于绕过交流,利用交流放大

### 角度调制与解调

- 角度调制

  - 简谐载波可以表示为

    $$
    z ( t ) = A _ { 0 } \cos [ \omega_z t + \theta _ { 0 } ] = A _ { 0 } \cos \varphi ( t )\\
    \varphi(t):瞬时相位 \\
    \omega(t) = \frac {d \varphi (t)} {d t}: 瞬时角频率
    $$

  - 频率调制(FM->Frequency Modulation)

    让载波瞬时角频率 $\omega(t)$随调制波 $x(t)$幅值的变化而作线性变化

    $$\omega ( t ) = \omega _ { z } + K _ { F M } x ( t )$$

    得到的已调制波为调频波

    $$x _ { F M } ( t ) = A _ { 0 } \cos [ \omega _ { z } t + \theta _ { 0 } + K _ { F M } \int x ( t ) d t ]$$

  - 相位调制(PM->Phase Modulation)

    如果载波的瞬时相位 $\varphi(t)$随调制波 $x(t)$幅值的变化而作线性变化

    $$\varphi ( t ) = \omega _ { z } t + \theta _ { 0 } + K _ { P M } x ( t )$$

    $K_{PM}$ 为相位调制指数,或称为相位调制灵敏度

    得到的已调制波为调相波

    $$x _ { P M } ( t ) = A _ { 0 } \cos [ \omega _ { z } t + \theta _ { 0 } + K _ { P M } x ( t ) ]$$

  由于频率或相位的变化最终都使载波的相位角发生变化,故统称 FM 和 PM 为角度调制

- 转化关系

  - 对于调相波

    可以看作$\frac { d x ( t ) } { d t }$为信号的调频

    $$\omega ( t ) = \omega _ { z } + K _ { P M } \frac { d x ( t ) } { d t }$$

  - 对于调频波

    可以看作$\int x ( t ) d t$为信号的调相

    $$\varphi ( t ) = \omega _ { z } t + \theta _ { 0 } + K _ { F M } \int x ( t ) d t$$

  形式不同, 本质相同

![][49]

### 频率调制的解调

调频信号的解调大多采用非相干解调

- 方式

  鉴频器和锁相环解调器

  前者结构简单,大多用于广播及电视中

  后者解调性能优良,但结构复杂,一般用于要求较高的场合,如通讯机

- 鉴频器

  等效为一个微分器和一个包络检波器

  - 微分器

    $$
    \begin{aligned}
    \frac { d x_{FM} ( t ) } { d t } &= \frac { d } { d t } \{ A _ { 0 } \cos [ \omega_z t + \theta _ { 0 } + K_{FM} \int x(t) dt ]\} \\
    &= - A _ { 0 } [ \omega_z +  K _ { FM } x( t ) ] \sin [ \omega_z t + \theta_0 + K_{FM} \int x(t) dt ]
    \end{aligned}
    $$

  - 包络检波器

    $$x _ { b } ( t ) = A _ { 0 } [ \omega_z + K _ { F M } x ( t ) ]$$

- 优点

  改善了信噪比,因为调频信号所携带的信息包含在频率的变化之中,并非振幅之中,而干扰波的干扰作用则主要表现在振幅之中

- 缺点

  调频波通常要求很宽的频带,甚至为调幅所要求带宽的 20 倍;调频系统比调幅系统复杂,因为调频实际上是一种非线性调制,不能运用叠加原理。因此,分析调频波比分析调幅波困难

## 模/数转换

### A/D 转换器

- 工作原理

  采样->量化->编码

  第一步在采样保持电路中完成,后两步在 A/D 转换过程中实现

#### 采样

- 定义

  以一定的时间间隔从模拟时间信号中抽取样本值,获得离散时间序列的过程

- 实现

  把模拟量转换为一个脉冲串,脉冲的幅度取决于输入模拟量,时间上通常采用等时间间隔采样(采样周期为 Ts)

由于后续量化过程需要一定时间, 因此需要将得到的值保持下来 -> 实现[采样保持电路](https://baike.baidu.com/item/%E9%87%87%E6%A0%B7%E4%BF%9D%E6%8C%81%E7%94%B5%E8%B7%AF/7656418)

#### 量化

转变为数字信号

- 定义

  把采样点的幅值在一组有限个离散电压值中,取其中之一来近似取代信号的实际电压

#### 编码

- 定义

  把已量化的模拟数值用二进制数码

#### A/D 转换误差

- 量化增量

  能被 A/D 转换器分辨的电压变化的最小增量

  $$\Delta = \frac { U _ { r e f } } { 2 ^ { n } }$$

  n: A/D 转换器位数

  $U_{ref}$:为参考电压,即 A/D 转换器的工作电压范围

- 量化误差

  $$最大量化误差 = \frac {\Delta} {2}$$

  A/D 转换器的位数 n 值越大,$\Delta$ 就越小,量化误差也就越小。但随着转换位数的增加,转换速度会降低,转换器的成本也明显增加。为减小量化误差,根本的办法是取小的量化电平(电压)间隔。量化误差是由于量化电平(电压)的有限性造成的,所以它是原理性误差,只能减小,无法消除

- 饱和误差

  输入信号的限值和 A/D 转换器所能显示的数字值之间的差值

- 转换误差

  A/D 转换器的转换误差可以用磁滞现象、线性度、灵敏度、零点误差和重复性误差来描述

#### A/D 转换器

- [并行 A/D 转换器](http://m.chinaaet.com/article/39745)

### D/A 转化器

把二进制转化为模拟量

- 步骤

  解码和低通滤波

![](assets/2022-05-20-20-04-57.png)

- 解码

  将二进制数码转换成具有相应电压值的脉冲,经保持后成为阶梯形的时域连续的、幅值离散的信号

- 低通滤波

  去除阶梯信号中的高频成分,还原出平滑的模拟信号

[2]: assets/kwu.png
[9]: assets/nak.png
[19]: assets/uyn.png
[20]: assets/ete.png
[27]: assets/cjp.png
[28]: assets/rsw.png
[31]: assets/mty.png
[32]: assets/kkk.png
[34]: assets/qgq.png
[35]: assets/odx.png
[38]: assets/atk.png
[39]: assets/wmq.png
[40]: assets/ayo.png
[41]: assets/esg.png
[49]: assets/tlu.png
